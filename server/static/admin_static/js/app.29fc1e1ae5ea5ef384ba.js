webpackJsonp([1],{0:function(t,e){},"7Otq":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAftQTFRFFRUV/f399/j2iox+////xcW5jo6EnJh/8PDsY11DeHFUbGpeysa4+fn3UlVP/f79ZWdcwMK0jIdz2NbNXV1V1tHFraufc3Bhg39z9vXunZVxGhoXbGRACgIAx8GldXFlqqmUnJRwSkIepKKWko+Avbq0IB8curWmrKeUfndtwr2z7+3ourWbbGdKXFhPb21gi4l8k5GEop6ThIB1hX9xfXhlWlU/a2dM2NXCcm5lbWxa3t3Sfnpxo6CNgn51goB0gHxz4N/Zc29mYFxTyse0iIZtpaaesayacm1acHJt1NTI+fn2hYdyysm7WlpO9/f1b21hwL6xaWZTcW9i8/LsKykcr6yZ+fjzbmhGeHRXYmBLq62iXVpJsbKsnpuUlpOM1tfQVVJGiYdyWVdCx8a2+vr5dnlwpqGO5OTcX1xTmpiM+vr4vb+vgoR2FhYWamdgW1pVhIF4oZ+Sx8a67e3n/Pz77ezk4N/VqaaTnZqLkpCDhoR4fHhsbmtcTUo8fXx4Uk48Y15LaWNTamdWa2hZYFxRUk9GwL60Y2RfbWlenJiN1tTKsaypb2pnW1tT7+7ourmmxcOy6unhaWNjvbuwdnJzi4t/eXltioNw+Pbz7urk0srC5ODbio18YlhWmpGM3NjSMTIrZWBdvbizjY2FQD88enpyfHxybm5mgNq+UQAAAilJREFUeJzt2Pk3VVEUwPGrdnMIKZUxQ5ppDkWGzLNKNEqlgQZCUWRoTkmDJkql/kz3vYe36LhvO3ufs5a1zven9+5ad3/WGd4vz7JMJpPJtMDyW7RYPQJ2S3QgAEvVIss8ynKlyAqYTCWyElQrq1aDN38lRADMLFCBsQZmF8SP/GcABHMbIQKE+/DXigwI5UXWCRFYz4qIDeYNmwsJY0Y2bFS8lE32uPCISAESxYdE2+NiNqs9ldi5joQTcTAgTgfix4XEOylciONS2H71CQ7IFi7EshI17Jfd1m3b1SPuduhAdgqQXUyzdycl79m7b/+Bg4cEyGEGICXV4Wq5SiMTR3wIdkeJRLpvAiCDZhzDGMTtQhEAmRoMyCIY2ViEYORgDQqCNgjIcbSRq2MhedJGvo7dKkAbhfJIIRopkkd07BYeKdaBlGhASgkGGinTgVAMqxxnVJCQSpRRRTKQ+3WCiJxEGKeqT9doWIpdLcE4g0XgrLRxDm3IX+Pz8zAuSBoXXS/XWZfqfROXr8gu5Kr9doP707XrNxyEm41NsoTnZt2a/nb7zt3mlntTg1vb6tvvP+jofPhIfv400kWcgUIEl6b7cU9vX/8TJuSpW3nmffD8xcsZh/HqNR0ZmBr2Jvrt4DvxoQ+Rlfe+7y58ICsfEQoZcfyjY7JPdMWyhkO9Az9/+fptNvKdAxE0MvrDi/xUhLga++Uxfis0XP0Z//tPMWEymUymhdIEjGFXB55BoQUAAAAASUVORK5CYII="},BCFl:function(t,e){},IVln:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("zZM0");var a=n("7+uW"),i=n("Dd8w"),s=n.n(i),o=n("NYxO"),r=n("uLgv");n("dih4");r.a.initializeApp({apiKey:"AIzaSyAPYIOlqxXvro99MC2gjEcO_-oF4g5vQKk",authDomain:"app72-63cf0.firebaseapp.com",databaseURL:"https://app72-63cf0-default-rtdb.europe-west1.firebasedatabase.app",projectId:"app72-63cf0",storageBucket:"app72-63cf0.appspot.com",messagingSenderId:"786370777538",appId:"1:786370777538:web:c96774286589f98faa065b"});var c=new r.a.auth.GoogleAuthProvider;c.addScope("https://www.googleapis.com/auth/contacts.readonly");var l={name:"Header",data:function(){return{msg:"",showMenu:!1}},computed:s()({},Object(o.c)("menu",{menuList:"items"}),Object(o.c)(["nickname","iflogin","photo"])),methods:s()({},Object(o.b)(["getUserData"]),{glogin:function(){r.a.auth().signInWithRedirect(c)},logout:function(){this.$cookies.remove("uid"),this.$cookies.remove("token"),this.getUserData(),this.showMenu=!1}}),beforeMount:function(){var t,e,n;t=this.$http,e=this.$cookies,n=this.getUserData,r.a.auth().getRedirectResult().then(function(a){if(a.credential){var i=a.credential.accessToken,s=a.user;console.log("google token:",i),console.log("\n\nuser:",s),console.log("\n\nuser_json:",s.toJSON());var o=s.uid,r=(s.refreshToken,s.toJSON().stsTokenManager.accessToken);if(s.toJSON().stsTokenManager.expirationTime,e.set("uid",o),e.set("token",r),a.additionalUserInfo.isNewUser){var c={uid:o,name:(s=s.toJSON()).displayName,email:s.email,photo:s.photoURL};t.post("new_user",c,{withCredentials:!0}).catch(function(t){console.log(t)})}var l={token:r,googletoken:i,uid:o};t.post("make_session",l,{withCredentials:!0}).then(function(){n()})}}).catch(function(t){})},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"headerinside",attrs:{onselectstart:"return false",onmousedown:"return false"}},[a("font",{attrs:{color:"black"}},[a("nav",[a("ul",[a("img",{staticClass:"logo_img",attrs:{src:n("7Otq"),alt:"logo"}}),t._v(" "),a("li",{staticClass:"logo"}),t._v(" "),t._l(t.menuList,function(e,n){return a("router-link",{key:n,staticClass:"items",attrs:{tag:"li",to:e.url,"active-class":"active"}},[a("a",[t._v(t._s(e.text))])])}),t._v(" "),a("li",{staticClass:"btn"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fas fa-bars"})])])],2),t._v(" "),t.iflogin?a("img",{staticClass:"mainphoto",attrs:{src:t.photo,alt:""},on:{click:function(e){t.showMenu=!t.showMenu}}}):t._e(),t._v(" "),a("ul",{class:{usermenu:!0,submenu:!t.showMenu,topmenu:t.showMenu}},[a("li",[a("a",{staticClass:"nickname"},[t._v(t._s(t.nickname))])]),t._v(" "),a("li",[a("a",[t._v("Item 1")])]),t._v(" "),a("li",[a("a",[t._v("Item 2")])]),t._v(" "),a("li",[a("a",{on:{click:function(e){return t.logout()}}},[t._v("Log out")])])]),t._v(" "),t.nickname&&"###notlogin###"===t.nickname?a("div",{staticClass:"googlelogin",on:{click:function(e){return t.glogin()}}}):t._e()])])],1)])},staticRenderFns:[]};var d=n("VU/8")(l,u,!1,function(t){n("gS7m")},null,null).exports,h={name:"Drawer",data:function(){return{}},methods:s()({},Object(o.d)(["changeIsShowDrawer"]),{onLogout:function(){},toggleDrawer:function(){this.changeIsShowDrawer(!this.isShowDrawer)},hideDrawer:function(){this.changeIsShowDrawer(!1)}}),computed:s()({},Object(o.c)(["isShowDrawer"]),Object(o.c)("menu",{menuList:"items"}))},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"burger",class:{"close-drawer":t.isShowDrawer},on:{click:t.toggleDrawer}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowDrawer,expression:"!isShowDrawer"}],staticClass:"burger__icon"}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDrawer,expression:"isShowDrawer"}],staticClass:"burger__icon burger__icon--close"})]),t._v(" "),t.isShowDrawer?n("div",{staticClass:"backdrop",on:{click:t.hideDrawer}}):t._e(),t._v(" "),n("div",{staticClass:"drawer",class:{drawer__hide:!t.isShowDrawer}},t._l(t.menuList,function(e,a){return n("router-link",{key:a,staticClass:"list-group-item list-group-item-action",attrs:{tag:"button",to:e.url,"active-class":"active"}},[n("div",{staticClass:"item_text",on:{click:t.hideDrawer}},[t._v(t._s(e.text))])])}),1)])},staticRenderFns:[]};var g={name:"App",components:{Header:d,Drawer:n("VU/8")(h,m,!1,function(t){n("YoSN")},"data-v-ce43dcbe",null).exports},data:function(){return{page:"Users"}}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header",{staticClass:"header stickyup"}),this._v(" "),e("router-view",{staticClass:"body"}),this._v(" "),e("Drawer")],1)},staticRenderFns:[]};var p=n("VU/8")(g,f,!1,function(t){n("OJgr")},"data-v-6701363b",null).exports,v=n("/ocq"),w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper_loading"},[e("img",{attrs:{src:n("q7pz"),alt:"Download",width:"250/"}})])}]};var _={name:"Users",components:{Loader:n("VU/8")({name:"Loader"},w,!1,function(t){n("IVln")},"data-v-6a5cfd1a",null).exports},data:function(){return{users:[]}},methods:s()({},Object(o.d)(["changeIsLoading"]),{getData:function(){var t=this;this.changeIsLoading(!0);this.$http.post("get_all_users",{},{withCredentials:!0}).then(function(t){return t.json()}).then(function(e){t.users=e.users,t.changeIsLoading(!1)}).catch(function(t){console.log(t)})}}),computed:s()({},Object(o.c)(["isLoading"])),mounted:function(){this.getData()}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("Loader"):n("div",[n("table",{staticClass:"table_blur"},[n("tr",[n("th",{staticClass:"photo_td"}),t._v(" "),n("th",[t._v("Nickname")]),t._v(" "),n("th",[t._v("Email")]),t._v(" "),n("th",[t._v("Admin")]),t._v(" "),n("th",[t._v("Action")])]),t._v(" "),t._l(t.users,function(e){return n("tr",{key:e.id},[n("td",{staticClass:"photo_td"},[n("img",{staticClass:"photo",attrs:{src:e.photo,alt:""}})]),t._v(" "),n("td",[t._v(t._s(e.nickname))]),t._v(" "),n("td",[t._v(t._s(e.email))]),t._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.admin,expression:"user.admin"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.admin)?t._i(e.admin,null)>-1:e.admin},on:{change:function(n){var a=e.admin,i=n.target,s=!!i.checked;if(Array.isArray(a)){var o=t._i(a,null);i.checked?o<0&&t.$set(e,"admin",a.concat([null])):o>-1&&t.$set(e,"admin",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(e,"admin",s)}}})]),t._v(" "),n("td",[n("div",{staticClass:"line"},[n("div",{staticClass:"pencil_ico inline",on:{click:function(n){return t.editUser(e.id)}}}),t._v(" "),n("div",{staticClass:"trash_ico inline",on:{click:function(n){return t.deleteUser(e.id)}}})])])])})],2)])],1)},staticRenderFns:[]};var A=n("VU/8")(_,k,!1,function(t){n("BCFl")},"data-v-6e2a56d6",null).exports,b={state:{nickname:null,photo:null},mutations:{setNickname:function(t,e){t.nickname=e},setPhoto:function(t,e){t.photo=e}},actions:{getUserData:function(t){var e=t.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.a.http.post("get_user_data",{},{withCredentials:!0}).then(function(t){return t.json()}).then(function(t){console.log(t),"ok"===t.status&&t.user.nickname?(e("setNickname",t.user.nickname),e("setPhoto",t.user.photo),n&&n()):(e("setNickname","###notlogin###"),n&&n())}).catch(function(t){state.nickname="###notlogin###",console.log(t),n&&n()})}},getters:{nickname:function(t){return t.nickname},photo:function(t){return t.photo},iflogin:function(t){return t.nickname&&"###notlogin###"!==t.nickname}}};a.a.use(o.a);var D=new o.a.Store({modules:{menu:{namespaced:!0,state:{items:[{url:"/users",text:"Users"}]},getters:{items:function(t,e,n,a){return t.items}}},drawer:{state:{isShowDrawer:!1},mutations:{changeIsShowDrawer:function(t,e){t.isShowDrawer=e}},actions:{},getters:{isShowDrawer:function(t){return t.isShowDrawer}}},loader:{state:{isLoading:!1,isDownloading:!1},mutations:{changeIsLoading:function(t,e){t.isLoading=e},changeIsDownloading:function(t,e){t.isDownloading=e}},getters:{isLoading:function(t){return t.isLoading},isDownloading:function(t){return t.isDownloading}}},user:b}});a.a.use(v.a);var C=new v.a({routes:[{path:"/",redirect:{name:"Users"}},{name:"Users",path:"/users",component:A,meta:{title:"Users"}}]});document.title="Admin",C.beforeEach(function(t,e,n){D.dispatch("getUserData",function(){n()})});var I=C,S=n("8+8L"),x=n("ppUw"),U=n.n(x),N=n("hnaQ");a.a.config.productionTip=!1,a.a.use(S.a),a.a.use(U.a),a.a.use(N.a),a.a.http.options.root=window.location.origin+"/",console.log(a.a.http.options.root),new a.a({el:"#app",router:I,store:D,components:{App:p},template:"<App/>"})},OJgr:function(t,e){},YoSN:function(t,e){},gS7m:function(t,e){},q7pz:function(t,e,n){t.exports=n.p+"static/img/3.e5c595c.gif"},zZM0:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.29fc1e1ae5ea5ef384ba.js.map